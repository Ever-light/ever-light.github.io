{
    "version": "https://jsonfeed.org/version/1",
    "title": "Wind Plume",
    "subtitle": "风之憧憬",
    "icon": "https://ever-light.github.io/images/favicon.ico",
    "description": "everlight的小站",
    "home_page_url": "https://ever-light.github.io",
    "items": [
        {
            "id": "https://ever-light.github.io/hello-world/",
            "url": "https://ever-light.github.io/hello-world/",
            "title": "Hello World",
            "date_published": "2024-10-10T14:01:13.785Z",
            "content_html": "<p>Welcome to <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvLw==\">Hexo</span>! This is your very first post. Check <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mv\">documentation</span> for more info. If you get any problems when using Hexo, you can find the answer in <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3MvdHJvdWJsZXNob290aW5nLmh0bWw=\">troubleshooting</span> or you can ask me on <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2hleG9qcy9oZXhvL2lzc3Vlcw==\">GitHub</span>.</p>\n<h2 id=\"quick-start\"><a class=\"anchor\" href=\"#quick-start\">#</a> Quick Start</h2>\n<h3 id=\"create-a-new-post\"><a class=\"anchor\" href=\"#create-a-new-post\">#</a> Create a new post</h3>\n<p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure></p>\n<p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvd3JpdGluZy5odG1s\">Writing</span></p>\n<h3 id=\"run-server\"><a class=\"anchor\" href=\"#run-server\">#</a> Run server</h3>\n<p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure></p>\n<p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvc2VydmVyLmh0bWw=\">Server</span></p>\n<h3 id=\"generate-static-files\"><a class=\"anchor\" href=\"#generate-static-files\">#</a> Generate static files</h3>\n<p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure></p>\n<p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3MvZ2VuZXJhdGluZy5odG1s\">Generating</span></p>\n<h3 id=\"deploy-to-remote-sites\"><a class=\"anchor\" href=\"#deploy-to-remote-sites\">#</a> Deploy to remote sites</h3>\n<p><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure></p>\n<p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvb25lLWNvbW1hbmQtZGVwbG95bWVudC5odG1s\">Deployment</span></p>\n",
            "tags": []
        },
        {
            "id": "https://ever-light.github.io/issue-cert/",
            "url": "https://ever-light.github.io/issue-cert/",
            "title": "使用 acme.sh 自动申请 ssl 证书",
            "date_published": "2024-09-17T06:02:33.000Z",
            "content_html": "<h1 id=\"使用-acmesh-自动申请-ssl-证书\"><a class=\"anchor\" href=\"#使用-acmesh-自动申请-ssl-证书\">#</a> 使用  <code>acme.sh</code>  自动申请 ssl 证书</h1>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2FjbWVzaC1vZmZpY2lhbC9hY21lLnNo\">acme.sh 官方说明</span></p>\n<h2 id=\"安装-acmesh\"><a class=\"anchor\" href=\"#安装-acmesh\">#</a> 安装  <code>acme.sh</code></h2>\n<p><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl https://get.acme.sh | sh -s email=my@example.com</span><br></pre></td></tr></table></figure></p>\n<p>安装成功后查看 cron</p>\n<p><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">0 0 * * * <span class=\"string\">&quot;/home/user/.acme.sh&quot;</span>/acme.sh --cron --home <span class=\"string\">&quot;/home/user/.acme.sh&quot;</span> &gt; /dev/null</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"使用-dns-api-的方式申请域名泛域名证书\"><a class=\"anchor\" href=\"#使用-dns-api-的方式申请域名泛域名证书\">#</a> 使用 DNS API 的方式申请域名 / 泛域名证书</h2>\n<p>自动 dns 验证的原理是 ACME 客户端 ( <code>acme.sh</code>  等) 在收到服务端返回的验证值后通过 dnsapi 自动设置对应域名的记录值，在 CA 验证完成后 acme 客户端自动删除， <code>acme.sh</code>  在访问 dnsapi 时需要对应的授权密钥</p>\n<p>根据你的域名服务商提供的 DNS API，并导入 DNS API，各域名服务商的 DNS API 请参考官方说明： <code>https://github.com/acmesh-official/acme.sh/tree/master/dnsapi</code></p>\n<h3 id=\"获取和导入密钥\"><a class=\"anchor\" href=\"#获取和导入密钥\">#</a> 获取和导入密钥</h3>\n<p>这里以腾讯云为例，使用下列命令导入密钥</p>\n<p><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">export</span> <span class=\"attribute\">Tencent_SecretId</span>=<span class=\"string\">&quot;&lt;id&gt;&quot;</span></span><br><span class=\"line\"><span class=\"built_in\">export</span> <span class=\"attribute\">Tencent_SecretKey</span>=<span class=\"string\">&quot;&lt;key&gt;&quot;</span></span><br></pre></td></tr></table></figure></p>\n<p>获取密钥的方法如下</p>\n<p>前往<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jb25zb2xlLmNsb3VkLnRlbmNlbnQuY29tL2NhbS9wb2xpY3k=\">腾讯云控制台</span>，选择 <code>策略</code>  -&gt; <code>新建自定义策略</code>  -&gt; <code>按策略语法创建</code>  -&gt; <code>空白模板</code> ，填写基本信息，并将策略语法修改为以下内容后完成创建</p>\n<p><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;statement&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span></span><br><span class=\"line\">        <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">            <span class=\"attr\">&quot;action&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span></span><br><span class=\"line\">                <span class=\"string\">&quot;dnspod:DescribeRecordFilterList&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">                <span class=\"string\">&quot;dnspod:DescribeRecordList&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">                <span class=\"string\">&quot;dnspod:CreateRecord&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">                <span class=\"string\">&quot;dnspod:DeleteRecord&quot;</span></span><br><span class=\"line\">            <span class=\"punctuation\">]</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">            <span class=\"attr\">&quot;effect&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;allow&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">            <span class=\"attr\">&quot;resource&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span></span><br><span class=\"line\">                <span class=\"string\">&quot;*&quot;</span></span><br><span class=\"line\">            <span class=\"punctuation\">]</span></span><br><span class=\"line\">        <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">    <span class=\"punctuation\">]</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;version&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;2.0&quot;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure></p>\n<p>之后点击 <code>用户</code>  -&gt; <code>用户列表</code> ，点击 <code>新建用户</code>  -&gt; <code>快速创建</code> ，填写用户名，设置访问方式为编程访问，选择用户权限为上一步添加的策略，最后点击 <code>创建用户</code> ，获得 SecretId 和 SecretKey</p>\n<h3 id=\"签发证书\"><a class=\"anchor\" href=\"#签发证书\">#</a> 签发证书</h3>\n<p><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">acme.sh --issue --dns dns_tencent -d example.com -d *.example.com</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"安装证书\"><a class=\"anchor\" href=\"#安装证书\">#</a> 安装证书</h2>\n<p>默认生成的证书都放在安装目录下，不建议直接使用此目录下的证书。官方推荐使用 <code>--install-cert</code>  命令，并指定目标位置，，然后证书文件会被 copy 到相应的位置，例如：</p>\n<p>Nginx 命令如下:</p>\n<p><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">acme.sh --install-cert -d example.com \\</span><br><span class=\"line\">--key-file /path/to/keyfile/in/nginx/key.pem \\</span><br><span class=\"line\">--fullchain-file /path/to/fullchain/nginx/cert.pem \\</span><br><span class=\"line\">--reloadcmd <span class=\"string\">&quot;service nginx reload&quot;</span></span><br></pre></td></tr></table></figure></p>\n<p>执行该命令后，命令中的参数将自动保存在～/.acme.sh/example.com 目录下的 example.com.conf 文件里，定时器更新证书的时候实现自动部署。</p>\n<h2 id=\"升级更新-acmesh\"><a class=\"anchor\" href=\"#升级更新-acmesh\">#</a> 升级更新  <code>acme.sh</code></h2>\n<p>更新： <code>acme.sh --upgrade</code></p>\n<p>自动更新： <code>acme.sh --upgrade --auto-upgrade</code></p>\n<p>关闭自动更新： <code>acme.sh --upgrade --auto-upgrade 0</code></p>\n",
            "tags": []
        }
    ]
}